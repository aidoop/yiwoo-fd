(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1206:function(n,e,t){"use strict";t.r(e);var i,r,a,o,c,l=t(1),d=t(140),s=t.n(d),u=t(74),p=t(38),f=t(48);function g(n,e,t,i,r,a,o){try{var c=n[a](o),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(i,r)}function m(n){return function(){var e=this,t=arguments;return new Promise((function(i,r){var a=n.apply(e,t);function o(n){g(a,i,r,o,c,"next",n)}function c(n){g(a,i,r,o,c,"throw",n)}o(void 0)}))}}function v(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}class h extends(Object(u.a)(p.store)(p.PageView)){static get styles(){return[Object(l.b)(i||(i=v(["\n        :host {\n          display: flex;\n          flex-direction: column;\n          background-color: var(--main-section-background-color);\n          padding: var(--padding-wide);\n\n          position: relative;\n\n          overflow: auto;\n        }\n        h2 {\n          margin: var(--title-margin);\n          font: var(--title-font);\n          color: var(--title-text-color);\n        }\n        [page-description] {\n          margin: var(--page-description-margin);\n          font: var(--page-description-font);\n          color: var(--page-description-color);\n        }\n        [icon] {\n          position: absolute;\n          top: 10px;\n          right: 10px;\n\n          max-width: 80px;\n        }\n        [icon] img {\n          max-width: 100%;\n          max-height: 100%;\n        }\n\n        :host * {\n          display: block;\n        }\n        label {\n          font: var(--label-font);\n          color: var(--label-color);\n          text-transform: var(--label-text-transform);\n        }\n        input,\n        select {\n          border: var(--border-dark-color);\n          border-radius: var(--border-radius);\n          margin: var(--input-margin);\n          padding: var(--input-padding);\n          font: var(--input-font);\n\n          flex: 1;\n        }\n        select:focus,\n        input:focus {\n          outline: none;\n        }\n\n        [field-2column] {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          grid-gap: 15px;\n        }\n        [field] {\n          display: flex;\n          flex-direction: column;\n        }\n        [grid-span] {\n          grid-column: span 2;\n        }\n        @media screen and (max-width: 480px) {\n          [field] {\n            grid-column: span 2;\n          }\n        }\n      "])))]}static get properties(){return{application:Object,_icon:String}}get context(){return{title:"oauth2 client registration"}}render(){return Object(l.e)(r||(r=v(["\n      <h2>Register new oauth2 client</h2>\n      <p page-description>You can register new oauth2 client here</p>\n\n      ",'\n\n      <form>\n        <div field-2column>\n          <div field grid-span>\n            <label for="name">name</label>\n            <input type="text" id="name" name="name" />\n          </div>\n\n          <div field grid-span>\n            <label for="description">description</label>\n            <input type="text" id="description" name="description" />\n          </div>\n\n          <div field grid-span>\n            <label for="icon">icon</label>\n            <input type="text" id="icon" name="icon" @change=',' />\n          </div>\n\n          <div field grid-span>\n            <label for="client-id">client id</label>\n            <input type="text" id="client-id" name="clientId" />\n            The client identifier issued to the client during the application registration process.\n          </div>\n\n          <div field grid-span>\n            <label for="client-secret">client secret</label>\n            <input type="text" id="client-secret" name="clientSecret" />\n            The client secret issued to the client during the application registration process.\n          </div>\n        </div>\n\n        <mwc-button raised @click=',">register</mwc-button>\n      </form>\n    "])),this._icon?Object(l.e)(a||(a=v(["\n            <div icon>\n              <img src="," />\n            </div>\n          "])),this._icon):Object(l.e)(o||(o=v([""]))),n=>this._icon=n.target.value,this.createOauth2Client.bind(this))}createOauth2Client(n){var e=this;return m((function*(){n.preventDefault();var t=e.renderRoot.querySelector("form"),i=new FormData(t),r=Array.from(i.entries()).reduce((n,[e,t])=>(n[e]=t,n),{}),a=yield p.client.mutate({mutation:s()(c||(c=v(["\n        mutation($oauth2Client: NewOauth2Client!) {\n          createOauth2Client(oauth2Client: $oauth2Client) {\n            id\n          }\n        }\n      "]))),variables:{oauth2Client:r}});if(a.errors)Object(f.h)({level:"error",message:"create oauth2 client fail"});else{var o=a.data.createOauth2Client.id;Object(p.navigate)("oauth2-client/".concat(o))}}))()}pageUpdated(n,e,t){var i=this;return m((function*(){i.active&&(i.renderRoot.querySelector("form").reset(),i.itemId=e.resourceId,i.params=e.params)}))()}}customElements.define("oauth2-client-register",h)}}]);