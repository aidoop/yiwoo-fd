(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1219:function(n,e,t){"use strict";t.r(e);var r,a,i,o,c,l,d,s,u=t(1),p=t(942),v=t(140),f=t.n(v),b=t(963),m=t.n(b),h=t(74),g=t(38),y=t(31);function w(n,e,t,r,a,i,o){try{var c=n[i](o),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}function x(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(n){w(i,r,a,o,c,"next",n)}function c(n){w(i,r,a,o,c,"throw",n)}o(void 0)}))}}function k(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function S(n){var e,t;function r(e,t){try{var i=n[e](t),o=i.value,c=o instanceof j;Promise.resolve(c?o.wrapped:o).then((function(n){c?r("return"===e?"return":"next",n):a(i.done?"return":"normal",n)}),(function(n){r("throw",n)}))}catch(n){a("throw",n)}}function a(n,a){switch(n){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?r(e.key,e.arg):t=null}this._invoke=function(n,a){return new Promise((function(i,o){var c={key:n,arg:a,resolve:i,reject:o,next:null};t?t=t.next=c:(e=t=c,r(n,a))}))},"function"!=typeof n.return&&(this.return=void 0)}function j(n){this.wrapped=n}"function"==typeof Symbol&&Symbol.asyncIterator&&(S.prototype[Symbol.asyncIterator]=function(){return this}),S.prototype.next=function(n){return this._invoke("next",n)},S.prototype.throw=function(n){return this._invoke("throw",n)},S.prototype.return=function(n){return this._invoke("return",n)};class A extends(Object(h.a)(g.store)(g.PageView)){static get styles(){return[Object(u.b)(r||(r=k(["\n        :host {\n          display: flex;\n          flex-direction: column;\n          overflow-y: auto;\n\n          background-color: var(--main-section-background-color);\n          padding: var(--padding-wide);\n        }\n        h2 {\n          margin: var(--title-margin);\n          font: var(--title-font);\n          color: var(--title-text-color);\n        }\n        [page-description] {\n          margin: var(--page-description-margin);\n          font: var(--page-description-font);\n          color: var(--page-description-color);\n        }\n\n        label {\n          font: var(--label-font);\n          color: var(--label-color);\n          text-transform: var(--label-text-transform);\n        }\n        input {\n          border: var(--border-dark-color);\n          border-radius: var(--border-radius);\n          margin: var(--input-margin);\n          padding: var(--input-padding);\n          font: var(--input-font);\n\n          flex: 1;\n        }\n        select:focus,\n        input:focus,\n        button {\n          outline: none;\n        }\n        form {\n          max-width: var(--content-container-max-width);\n        }\n        [fieldset-container] {\n          background-color: var(--theme-white-color);\n          margin: var(--margin-wide) 0 var(--margin-default) 0;\n          padding: var(--padding-default);\n          border-radius: var(--border-radius);\n          box-shadow: var(--box-shadow);\n        }\n        [fieldset-container] fieldset {\n          margin: 0;\n          margin-top: -15px;\n        }\n        fieldset {\n          border-radius: var(--border-radius);\n          border: var(--border-dark-color);\n          margin: var(--fieldset-margin);\n          padding: var(--fieldset-padding);\n        }\n        legend {\n          padding: var(--legend-padding);\n          font-weight: bold;\n          color: var(--legend-color);\n        }\n        [field-2column] {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          grid-gap: 15px;\n        }\n        [field] {\n          display: flex;\n          flex-direction: column;\n          position: relative;\n        }\n        [grid-span] {\n          grid-column: span 2;\n        }\n        button,\n        [button-in-field] {\n          background-color: var(--button-background-color);\n          border: var(--button-border);\n          border-radius: var(--button-border-radius);\n          padding: var(--button-padding);\n          color: var(--button-color);\n          font: var(--button-font);\n          text-transform: var(--button-text-transform);\n\n          margin: var(--margin-default) 0 var(--margin-default) var(--margin-default);\n          float: right;\n          text-decoration: none;\n        }\n        button:hover {\n          border: var(--button-activ-border);\n          box-shadow: var(--button-active-box-shadow);\n        }\n        [button-in-field] {\n          border-radius: 0 var(--button-border-radius) var(--button-border-radius) 0;\n          position: absolute;\n          top: 11px;\n          right: 0;\n          max-height: 36px;\n        }\n        [input-hint] {\n          font: var(--input-hint-font);\n          color: var(--input-hint-color);\n        }\n        @media screen and (max-width: 480px) {\n          [field] {\n            grid-column: span 2;\n          }\n        }\n      "])))]}static get properties(){return{appliance:Object,accessToken:String,_accessTokenInfo:Object}}get context(){return{title:{icon:"devices",text:this.appliance.name}}}render(){var n,e=this.appliance||{},t=null===(n=this._accessTokenInfo)||void 0===n?void 0:n.exp;return Object(u.e)(a||(a=k(["\n      <div>\n        <h2><mwc-icon>devices</mwc-icon>&nbsp;","</h2>\n        <p page-description>",'</p>\n      </div>\n\n      <form>\n        <div fieldset-container>\n          <fieldset>\n            <legend>appliance</legend>\n            <div field-2column>\n              <div field grid-span>\n                <label for="name">appliance name</label>\n                <input id="name" type="text" name="name" .value=',' />\n              </div>\n\n              <div field grid-span>\n                <label for="description">description</label>\n                <input id="description" type="text" name="description" .value=',' />\n              </div>\n\n              <div field>\n                <label for="brand">brand</label>\n                <input id="brand" type="text" name="brand" .value=',' />\n              </div>\n\n              <div field>\n                <label for="serial-no">serial #</label>\n                <input id="serial-no" type="text" name="serialNo" .value=',' />\n              </div>\n\n              <div field>\n                <label for="model">model</label>\n                <input id="model" type="text" name="model" .value=',' />\n              </div>\n\n              <div field>\n                <label for="netmask">netmask</label>\n                <input id="netmask" type="text" name="netmask" .value=',' />\n              </div>\n            </div>\n          </fieldset>\n        </div>\n\n        <div fieldset-container>\n          <fieldset>\n            <legend>appliance credentials</legend>\n            <div field-2column>\n              <div field grid-span>\n                <label for="access-token">access token</label>\n                <input id="access-token" type="text" .value='," readonly />\n                <button button-in-field clipboard-copy @click=",">copy</button>\n                ","\n              </div>\n            </div>\n          </fieldset>\n        </div>\n\n        <button @click=",">delete this appliance</button>\n        <button @click=",">generate new access token</button>\n        <button @click=",">update</button>\n      </form>\n    "])),e.name,e.description,e.name,e.description,e.brand,e.serialNo,e.model,e.netmask,e.accessToken,n=>n.preventDefault(),t?Object(u.e)(i||(i=k(["<div input-hint>\n                      expired in "," :\n                      ","\n                    </div>"])),Date(t).toLocaleString(),Object(p.a)(this.expTimer(t))):Object(u.e)(o||(o=k([""]))),this.deleteAppliance.bind(this),this.generateApplianceSecret.bind(this),this.updateAppliance.bind(this))}firstUpdated(){var n=this.renderRoot.querySelectorAll("[clipboard-copy]");this.clipboard=new m.a(n,{target:n=>n.parentElement.querySelector("input")})}updated(n){if(n.has("appliance")){var{accessToken:e}=this.appliance||{};this.accessToken=e}n.has("accessToken")&&(this._accessTokenInfo=this.accessToken?Object(y.k)(this.accessToken):{})}pageUpdated(n,e,t){var r=this;return x((function*(){r.active&&(yield r.fetchAppliance())}))()}fetchAppliance(){var n=this;return x((function*(){var e=yield g.client.query({query:f()(c||(c=k(["\n        query($id: String!) {\n          appliance(id: $id) {\n            id\n            name\n            description\n            serialNo\n            brand\n            model\n            netmask\n            accessToken\n          }\n        }\n      "]))),variables:{id:n.lifecycle.resourceId}});n.appliance=e.data.appliance}))()}updateAppliance(n){var e=this;return x((function*(){n.preventDefault();var t=e.renderRoot.querySelector("form"),r=new FormData(t),a=Array.from(r.entries()).reduce((n,[e,t])=>(n[e]=t,n),{}),i=e.lifecycle.resourceId,o=yield g.client.mutate({mutation:f()(l||(l=k(["\n        mutation($id: String!, $patch: AppliancePatch!) {\n          updateAppliance(id: $id, patch: $patch) {\n            id\n            name\n            description\n            serialNo\n            brand\n            model\n            netmask\n            accessToken\n          }\n        }\n      "]))),variables:{id:i,patch:a}});o.errors?console.error("update fail"):(e.appliance=o.data.updateAppliance,console.log("update sucess"))}))()}deleteAppliance(n){var e=this;return x((function*(){n.preventDefault();var t=e.lifecycle.resourceId;(yield g.client.mutate({mutation:f()(d||(d=k(["\n        mutation($id: String!) {\n          deleteAppliance(id: $id)\n        }\n      "]))),variables:{id:t}})).errors?console.error("delete fail"):Object(g.navigate)("appliance-home")}))()}generateApplianceSecret(n){var e=this;return x((function*(){n.preventDefault();var t=e.lifecycle.resourceId,r=yield g.client.mutate({mutation:f()(s||(s=k(["\n        mutation($id: String!) {\n          generateApplianceSecret(id: $id) {\n            id\n            name\n            description\n            serialNo\n            brand\n            model\n            netmask\n            accessToken\n          }\n        }\n      "]))),variables:{id:t}});r.errors?console.error("generate-appliance-secret fail"):(e.appliance=r.data.generateApplianceSecret,console.log("generate-appliance-secret sucess"))}))()}expTimer(n){var e,t=this;return(e=function*(){for(var e;t.active;){var r=Math.floor(Number(n)-Date.now()/1e3),a=Math.floor(r/86400);r-=86400*a;var i=Math.floor(r/3600);r-=3600*i;var o=Math.floor(r/60),c=r-60*o;yield"".concat(a," days ").concat(i," hours ").concat(o," mins ").concat(c," seconds remain"),yield(e=Object(y.m)(1e3),new j(e))}},function(){return new S(e.apply(this,arguments))})()}}window.customElements.define("appliance-page",A)},942:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var r=t(5);function a(n,e,t,r,a,i,o){try{var c=n[i](o),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,a)}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
var i=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n="function"==typeof __values?__values(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(t){e[t]=n[t]&&function(e){return new Promise((function(r,a){(function(n,e,t,r){Promise.resolve(r).then((function(e){n({value:e,done:t})}),e)})(r,a,(e=n[t](e)).done,e.value)}))}}},o=Object(r.f)((n,e)=>function(){var t,o=(t=function*(t){var a,o;if(!(t instanceof r.d))throw new Error("asyncReplace can only be used in text bindings");if(n!==t.value){var c=new r.d(t.options);t.value=n;var l=0;try{for(var d,s=i(n);!(d=yield s.next()).done;){var u=d.value;if(t.value!==n)break;0===l&&(t.clear(),c.appendIntoPart(t)),void 0!==e&&(u=e(u,l)),c.setValue(u),c.commit(),l++}}catch(n){a={error:n}}finally{try{d&&!d.done&&(o=s.return)&&(yield o.call(s))}finally{if(a)throw a.error}}}},function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function c(n){a(o,r,i,c,l,"next",n)}function l(n){a(o,r,i,c,l,"throw",n)}c(void 0)}))});return function(n){return o.apply(this,arguments)}}())}}]);