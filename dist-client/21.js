(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1226:function(e,n,t){"use strict";t.r(n);t(966);var r,i,a,o,l,d,c,s,u,p,v,b,m,h,g,f,y,x,w=t(38),O=t(140),j=t.n(O),k=t(1),R=t(74),q=t(9);function P(e,n,t,r,i,a,o){try{var l=e[a](o),d=l.value}catch(e){return void t(e)}l.done?n(d):Promise.resolve(d).then(r,i)}function C(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class I extends k.a{static get styles(){return Object(k.b)(r||(r=C(["\n      [field-2column] {\n        background-color: var(--theme-white-color);\n        margin: var(--margin-wide) 0;\n        padding: var(--padding-wide);\n        border-radius: var(--border-radius);\n        box-shadow: var(--box-shadow);\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 5px 15px;\n        clear: both;\n        max-width: var(--input-container-max-width);\n      }\n      [field] {\n        display: flex;\n        flex-direction: column;\n        padding-bottom: var(--padding-default);\n      }\n      [grid-span] {\n        grid-column: span 2;\n      }\n\n      input {\n        border: var(--border-dark-color);\n        border-radius: var(--border-radius);\n        margin: var(--input-margin);\n        padding: var(--input-padding);\n        min-width: 250px;\n        font: var(--input-font);\n      }\n      label {\n        display: flex;\n        flex-direction: column;\n\n        font: var(--label-font);\n        color: var(--label-color);\n        text-transform: var(--label-text-transform);\n      }\n      mwc-button {\n        margin: var(--input-margin);\n      }\n      @media screen and (max-width: 480px) {\n        div {\n          display: grid;\n        }\n        [field] {\n          grid-column: span 2;\n        }\n      }\n    "])))}static get properties(){return{}}render(){return Object(k.e)(i||(i=C(['\n      <div field-2column>\n        <div field>\n          <label\n            >role name\n            <input name="name" type="text" required />\n          </label>\n        </div>\n        <div field>\n          <label\n            >role description\n            <input name="description" type="text" />\n          </label>\n        </div>\n\n        <div>\n          <mwc-button @click=',' outlined label="create"></mwc-button>\n        </div>\n      </div>\n    '])),this.onCreateRole.bind(this))}get inputData(){return this.renderRoot.querySelectorAll("input")}onCreateRole(){var e,n=this;return(e=function*(){var e={};n.inputData.forEach(n=>e[n.name]=n.value),(yield Object(w.CustomAlert)({title:q.a.t("text.are_you_sure"),text:q.a.t("text.do_you_want_to_create_role"),confirmButton:{text:q.a.t("button.confirm")},cancelButton:{text:q.a.t("button.cancel")}})).value&&((yield w.client.mutate({mutation:j()(a||(a=C(["\n        mutation createRole($role: NewRole!) {\n          createRole(role: $role) {\n            name\n          }\n        }\n      "]))),variables:{role:e},context:Object(w.gqlContext)()})).errors||(yield n.dispatchEvent(new CustomEvent("fetch-roles")),yield Object(w.CustomAlert)({title:q.a.t("text.completed"),confirmButton:{text:q.a.t("button.confirm")}}),n.inputData.value=""))},function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){P(a,r,i,o,l,"next",e)}function l(e){P(a,r,i,o,l,"throw",e)}o(void 0)}))})()}}function z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}window.customElements.define("create-role",I);class A extends(Object(q.b)(q.a)(k.a)){static get properties(){return{role:Object}}static get styles(){return Object(k.b)(o||(o=z(["\n      [field-2column] {\n        border-radius: var(--border-radius);\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 5px 15px;\n        clear: both;\n        max-width: var(--input-container-max-width);\n      }\n      [field] {\n        display: flex;\n        flex-direction: column;\n        padding-bottom: var(--padding-default);\n      }\n      input {\n        border: var(--border-dark-color);\n        border-radius: var(--border-radius);\n        margin: var(--input-margin);\n        padding: var(--input-padding);\n        min-width: 250px;\n        font: var(--input-font);\n      }\n      label {\n        display: flex;\n        flex-direction: column;\n        font: var(--label-font);\n        color: var(--theme-white-color);\n        text-transform: var(--label-text-transform);\n      }\n    "])))}render(){var e=this.role||{name:"",description:""};return Object(k.e)(l||(l=z(['\n      <form field-2column @input="','">\n        <div field>\n          <label\n            >role name\n            <input name="name" value="','" @click="','" />\n          </label>\n        </div>\n\n        <div field>\n          <label\n            >role description\n            <input name="description" .value="','" @click="','" />\n          </label>\n        </div>\n      </form>\n    '])),this.dispatchRoleChanged.bind(this),e.name,e=>e.stopPropagation(),e.description,e=>e.stopPropagation())}get nameInput(){return this.renderRoot.querySelector("input[name=name]")}get descriptionInput(){return this.renderRoot.querySelector("input[name=description]")}getRole(){var e=this.nameInput.value,n=this.descriptionInput.value;return e?{name:e,description:n}:this.showToast(q.a.t("error.value is empty",{value:q.a.t("field.name")}))}dispatchRoleChanged(){this.dispatchEvent(new CustomEvent("roleChanged",{detail:this.getRole()}))}showToast(e){document.dispatchEvent(new CustomEvent("notify",{detail:{message:e,option:{timer:1e3}}}))}}function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){T(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n,t,r,i,a,o){try{var l=e[a](o),d=l.value}catch(e){return void t(e)}l.done?n(d):Promise.resolve(d).then(r,i)}function K(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){_(a,r,i,o,l,"next",e)}function l(e){_(a,r,i,o,l,"throw",e)}o(void 0)}))}}function B(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.define("role-edit-form",A);class D extends k.a{static get styles(){return[Object(k.b)(d||(d=B(["\n        :host {\n          display: flex;\n          flex-direction: column;\n\n          border: 1px solid var(--primary-color);\n          font: normal 15px var(--theme-font);\n          color: var(--secondary-color);\n        }\n        div {\n          margin: var(--margin-default);\n        }\n        ul {\n          flex: 1;\n          background-color: var(--theme-white-color);\n          overflow: auto;\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          margin: 0;\n          padding: var(--padding-default);\n          list-style: none;\n          border: 1px dashed rgba(0, 0, 0, 0.1);\n          border-width: 1px 0;\n        }\n\n        input[type='checkbox'] {\n          display: inline;\n        }\n\n        li {\n          padding: var(--padding-narrow);\n        }\n\n        #checkAll,\n        [for='checkAll'] {\n          margin-bottom: var(--margin-default);\n          padding-bottom: var(--padding-narrow);\n          font-weight: bold;\n        }\n\n        [buttons] {\n          margin: 0;\n          padding: var(--padding-default);\n          background-color: rgba(var(--primary-color-rgb), 0.2);\n        }\n\n        mwc-button {\n          background-color: var(--theme-white-color);\n          overflow: hidden;\n        }\n        [danger] {\n          --mdc-theme-primary: var(--mdc-danger-button-primary-color);\n        }\n        [outlined] {\n          background-color: var(--theme-white-color);\n        }\n\n        @media screen and (max-width: 480px) {\n          ul {\n            grid-template-columns: 1fr;\n          }\n        }\n      "])))]}static get properties(){return{role:Object,allPrivileges:Array,privileges:Array,updateRoleObj:Object}}render(){var e=this.allPrivileges||[],n=this.privileges||[];return Object(k.e)(c||(c=B(['\n      <div>\n        <input id="checkAll" type="checkbox" @change=',' />\n        <label for="checkAll">Check all</label>\n      </div>\n\n      <ul privileges>\n        ',"\n      </ul>\n\n      <div buttons>\n        <mwc-button @click=",' outlined label="Save"></mwc-button>\n        <mwc-button @click=',' raised danger label="Delete Role"></mwc-button>\n      </div>\n    '])),e=>this.oncheckAll(e),e.map(e=>Object(k.e)(s||(s=B(['\n            <li>\n              <input\n                type="checkbox"\n                id="','"\n                .checked=',"\n                .data-privilege=",'\n              />\n              <label for="','">',"</label>\n            </li>\n          "])),e.id,n.map(e=>e.id).indexOf(e.id)>-1,e,e.id,e.description)),e=>this.onSave(),e=>this.onDeleteRole())}firstUpdated(){var e=this;return K((function*(){e.allPrivileges=yield e.fetchPrivileges()}))()}updated(e){var n=this;return K((function*(){e.has("role")&&(n.privileges=yield n.fetchPrivilegesOnRole(n.role.name))}))()}checkAll(e){Array.from(this.renderRoot.querySelectorAll("ul[privileges] input[type=checkbox]")).forEach(n=>n.checked=e)}oncheckAll(e){this.checkAll(e.target.checked)}onSave(){var e=this;return K((function*(){var n=e.updateRoleObj,t=Array.from(e.renderRoot.querySelectorAll("ul[privileges] input[type=checkbox]:checked")).map(e=>e["data-privilege"]),r=E(E({},n),{},{privileges:t});e.role&&((yield w.client.mutate({mutation:j()(u||(u=B(["\n          mutation($id: String!, $patch: RolePatch!) {\n            updateRole(id: $id, patch: $patch) {\n              id\n              name\n              description\n              privileges {\n                id\n                description\n              }\n            }\n          }\n        "]))),variables:{id:e.role.id,patch:r},context:Object(w.gqlContext)()})).errors||(yield e.dispatchEvent(new CustomEvent("fetch-roles")),e.showToast(q.a.t("text.data_updated_successfully"))))}))()}onDeleteRole(){var e=this;return K((function*(){(yield Object(w.CustomAlert)({title:q.a.t("text.are_you_sure"),text:q.a.t("text.are_you_sure_to_delete_role"),confirmButton:{text:q.a.t("button.delete")},cancelButton:{text:q.a.t("button.cancel")}})).value&&((yield w.client.mutate({mutation:j()(p||(p=B(["\n        mutation($id: String!) {\n          deleteRole(id: $id)\n        }\n      "]))),variables:{id:e.role.id},context:Object(w.gqlContext)()})).errors||(yield e.dispatchEvent(new CustomEvent("fetch-roles")),yield Object(w.CustomAlert)({type:"success",title:q.a.t("text.completed"),text:q.a.t("text.role_deleted_successfully"),confirmButton:{text:q.a.t("button.confirm")}})))}))()}fetchPrivileges(){return K((function*(){return(yield w.client.query({query:j()(v||(v=B(["\n        query privileges {\n          privileges {\n            items {\n              id\n              name\n              description\n            }\n            total\n          }\n        }\n      "])))})).data.privileges.items}))()}fetchPrivilegesOnRole(e){return K((function*(){var n;return null===(n=(yield w.client.query({query:j()(b||(b=B(["\n        query($name: String!) {\n          role(name: $name) {\n            id\n            name\n            privileges {\n              id\n              description\n            }\n          }\n        }\n      "]))),variables:{name:e},context:Object(w.gqlContext)()})).data.role)||void 0===n?void 0:n.privileges}))()}showToast(e){document.dispatchEvent(new CustomEvent("notify",{detail:{message:e,option:{timer:1e3}}}))}}function F(e,n,t,r,i,a,o){try{var l=e[a](o),d=l.value}catch(e){return void t(e)}l.done?n(d):Promise.resolve(d).then(r,i)}function N(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){F(a,r,i,o,l,"next",e)}function l(e){F(a,r,i,o,l,"throw",e)}o(void 0)}))}}function $(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.define("role-privilege-editor",D);class H extends(Object(R.a)(w.store)(w.PageView)){static get styles(){return[Object(k.b)(m||(m=$(["\n        :host {\n          display: flex;\n          flex-direction: column;\n          background-color: var(--main-section-background-color);\n          padding: var(--padding-wide);\n          overflow: auto;\n        }\n        h2 {\n          margin: var(--title-margin);\n          font: var(--title-font);\n          color: var(--title-text-color);\n        }\n        [subtitle] {\n          padding: var(--subtitle-padding);\n          font: var(--subtitle-font);\n          color: var(--subtitle-text-color);\n        }\n        input {\n          display: block;\n        }\n        #roles-privileges {\n          flex: 1;\n          display: flex;\n          margin-top: var(--margin-default);\n          max-width: var(--content-container-max-width);\n          flex-direction: row;\n          overflow: auto;\n          border-top: var(--border-dark-color);\n        }\n      "])))]}static get properties(){return{title:String,role:Object,roles:Array,updateRoleObj:Object}}get context(){return{title:"Role management",help:"auth/roles"}}render(){var e=this,n={roles:this.roles||[]};return Object(k.e)(h||(h=$(["\n      <h2>Roles</h2>\n      <div subtitle>Create role</div>\n      <create-role\n        @fetch-roles=",'\n      ></create-role>\n\n      <div subtitle>Registered roles</div>\n      <div id="roles-privileges">\n        <quick-find-list\n          .data="','"\n          .openHeaderRenderer=','\n          .contentRenderer="','"\n        ></quick-find-list>\n      </div>\n    '])),N((function*(){e.roles=yield e.fetchRoles()})),n,e=>Object(k.e)(g||(g=$(['\n              <role-edit-form .role="','" @roleChanged="','"></role-edit-form>\n            '])),e,e=>this.updateRoleObj=e.detail),(n,t)=>Object(k.e)(f||(f=$(["\n            <role-privilege-editor\n              .updateRoleObj=","\n              .role=","\n              @fetch-roles=","\n            ></role-privilege-editor>\n          "])),this.updateRoleObj||{},n,N((function*(){e.roles=yield e.fetchRoles(),yield e.updateComplete,e.renderRoot.querySelector("quick-find-list").openByKey(n.id)}))))}pageInitialized(e){}pageUpdated(e,n,t){var r=this;return N((function*(){r.active&&(r.roles=yield r.fetchRoles(),r.privileges=yield r.fetchPrivileges(),r.role=r.roles&&r.roles[0])}))()}pageDisposed(e){}fetchRoles(){return N((function*(){return(yield w.client.query({query:j()(y||(y=$(["\n        query roles($sortings: [Sorting]) {\n          roles(sortings: $sortings) {\n            items {\n              id\n              name\n              description\n              privileges {\n                id\n                name\n              }\n            }\n            total\n          }\n        }\n      "]))),variables:{sortings:[{name:"name"}]},context:Object(w.gqlContext)()})).data.roles.items}))()}fetchPrivileges(){return N((function*(){return(yield w.client.query({query:j()(x||(x=$(["\n        query privileges {\n          privileges {\n            items {\n              id\n              name\n              description\n            }\n            total\n          }\n        }\n      "])))})).data.privileges.items}))()}}window.customElements.define("role-management",H)},966:function(e,n,t){"use strict";var r,i,a,o,l,d,c,s,u,p,v,b,m=t(81),h=t(1);function g(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}class f extends h.a{static get styles(){return[Object(h.b)(r||(r=g(["\n        .tabs {\n          display: flex;\n        }\n        .tab {\n          background-color: var(--secondary-background-color);\n          margin-top: var(--margin-default);\n          padding: var(--padding-narrow) var(--padding-wide) 0 var(--padding-wide);\n          border-radius: 9px 9px 0 0;\n          border-right: 1px solid rgba(0, 0, 0, 0.4);\n          text-transform: capitalize;\n          color: var(--theme-white-color);\n          opacity: 0.7;\n          cursor: pointer;\n        }\n        .tab[activate] {\n          background-color: var(--primary-color);\n          box-shadow: 2px -2px 2px 0px rgba(0, 0, 0, 0.15);\n          opacity: 1;\n          font-weight: bold;\n        }\n        .tab span,\n        .tab span[activate] {\n          font-weight: normal;\n          font-size: var(--fontsize-default);\n        }\n        .nav-bar {\n          background-color: var(--theme-white-color);\n          border: 1px solid var(--primary-color);\n          border-radius: 0 var(--border-radius) var(--border-radius) var(--border-radius);\n          margin: 0 0 var(--margin-wide) 0;\n          padding: var(--padding-narrow);\n          transition: opacity ease-in-out 0.3s;\n          opacity: 100%;\n          color: var(--secondary-color);\n          font-size: var(--fontsize-default);\n        }\n        .nav-bar[scrolling] {\n          opacity: 100%;\n          transition: opacity ease-in-out 0.3s;\n        }\n        .nav-bar * {\n          vertical-align: middle;\n        }\n        mwc-icon {\n          --mdc-icon-size: 14px;\n          padding-left: var(--padding-narrow);\n          position: relative;\n          margin-top: -2px;\n        }\n        .nav-bar span {\n          border-right: var(--border-dark-color);\n          border-width: 0 1px;\n          padding: 0 var(--padding-default) 0 var(--padding-narrow);\n          opacity: 0.8;\n          color: var(--secondary-color);\n          font-size: var(--fontsize-small);\n        }\n        .nav-bar span[activate] {\n          font-weight: bold;\n          cursor: pointer;\n          color: var(--secondary-text-color);\n          font-size: var(--fontsize-default);\n        }\n        @media screen and (max-width: 480px) {\n          :host {\n            width: 25px;\n          }\n          .tab {\n            display: flex;\n            flex-direction: column;\n            margin-top: var(--margin-narrow);\n            padding: var(--padding-narrow) var(--padding-default);\n            text-align: center;\n          }\n          .tab span,\n          .tab span[activate] {\n            font-size: var(--fontsize-default);\n            margin-top: -4px;\n          }\n          label,\n          mwc-icon {\n            display: none;\n          }\n          .nav-bar {\n            position: absolute;\n            right: 25px;\n            z-index: 100;\n\n            background-color: rgba(var(--primary-color-rgb), 0.2);\n            border: none;\n            border-radius: 15px;\n            margin-top: initial;\n            padding: var(--padding-narrow) 0;\n            opacity: 0%;\n            text-align: center;\n          }\n          .nav-bar span {\n            display: block;\n            border: none;\n            margin: auto;\n            padding: 2px var(--padding-narrow) 0 var(--padding-narrow);\n            font-size: 12px;\n          }\n        }\n      "])))]}static get properties(){return{scrolling:Boolean,indexes:Array,activeIndexes:Array,data:Object,currentTabKey:String,scrollable:Boolean}}constructor(){super(),this.indexes=[...Array(26).fill(65).map((e,n)=>String.fromCharCode(e+=n)),"#"]}render(){var e=Boolean(this.scrolling),n=this.activeIndexes||[],t=this.data||{},r=Object.keys(t),c=this.currentTabKey||r[0],s=this.scrollable;return Object(h.e)(i||(i=g(["\n      ","\n      ","\n    "])),r.length>1?Object(h.e)(a||(a=g(['\n            <div class="tabs">\n              ',"\n            </div>\n          "])),Object.keys(t).map(e=>{var n=t[e];return Object(h.e)(o||(o=g(['\n                  <div class="tab" ?activate="','" @click="','">\n                    ',"<span>(",")</span>\n                  </div>\n                "])),e===c,()=>this.currentTabKey=e,e,n.length)})):"",s?Object(h.e)(l||(l=g(['\n            <div class="nav-bar" ?scrolling=',">\n              <mwc-icon>anchor</mwc-icon> <label>Quick Find : </label>\n              ","\n            </div>\n          "])),e,this.indexes.map(e=>{var t=n.indexOf(e)>=0;return Object(h.e)(d||(d=g(['\n                  <span\n                    ?activate="','"\n                    class="nav-cursor"\n                    @click=',"\n                    >","</span\n                  >\n                "])),t,n=>{t&&this.onclickNavCursor(e)},e)})):"")}updated(e){e.has("currentTabKey")&&this.dispatchEvent(new CustomEvent("tabChanged",{detail:{currentTabKey:this.currentTabKey},bubbles:!0,composed:!0,cancelable:!0}))}onclickNavCursor(e){this.dispatchEvent(new CustomEvent("navigateTo",{detail:e,composed:!0}))}}function y(e,n,t,r,i,a,o){try{var l=e[a](o),d=l.value}catch(e){return void t(e)}l.done?n(d):Promise.resolve(d).then(r,i)}function x(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}customElements.define("quick-find-navigator",f);class w extends h.a{static get styles(){return[m.c,Object(h.b)(c||(c=x(["\n        :host {\n          display: flex;\n          flex: 1;\n          flex-direction: column;\n          overflow: hidden;\n          max-width: var(--content-container-max-width);\n        }\n        .list-container {\n          flex: 1;\n\n          display: flex;\n          flex-direction: column;\n          background-color: var(--theme-white-color);\n          border-radius: 0 var(--border-radius) var(--border-radius) var(--border-radius);\n          border: var(--border-dark-color);\n          border-width: 0 1px 1px 1px;\n          box-shadow: var(--box-shadow);\n          overflow: auto;\n        }\n        ul {\n          margin: 0;\n          padding: 0;\n          flex: 1;\n          list-style: none;\n        }\n        li {\n          border-bottom: var(--border-dark-color);\n          margin-bottom: -1px;\n          color: var(--secondary-color);\n        }\n        li:nth-child(even) {\n          background-color: rgba(0, 0, 0, 0.025);\n        }\n        li:hover {\n          background-color: rgba(var(--primary-color-rgb), 0.2);\n        }\n        li div {\n          font: bold 16px var(--theme-font);\n        }\n        li div.header {\n          padding: var(--padding-default) var(--padding-wide);\n        }\n        [opened] {\n          border-left: 4px solid var(--google-green-300);\n          border-bottom: 3px solid rgba(0, 0, 0, 0.1);\n        }\n        [opened] .header {\n          background-color: var(--primary-color);\n          box-shadow: var(--box-shadow);\n          color: var(--theme-white-color);\n        }\n        [opened] .header::after {\n          display: block;\n          margin-bottom: -16px;\n          position: relative;\n          margin-top: 9px;\n          content: '';\n          width: 0px;\n          height: 0px;\n          border-left: 7px solid transparent;\n          border-right: 7px solid transparent;\n          border-top: 7px solid var(--primary-color);\n        }\n        li span {\n          display: block;\n          opacity: 0.9;\n          font: normal 14px/18px var(--theme-font);\n        }\n        .header mwc-icon {\n          --mdc-icon-size: var(--fontsize-default);\n          margin-right: var(--padding-narrow);\n        }\n        @media screen and (max-width: 480px) {\n          .list-container {\n            border-radius: 0 var(--border-radius) var(--border-radius) var(--border-radius);\n            border-width: 0 1px 1px 1px;\n          }\n        }\n      "])))]}static get properties(){return{data:Object,nameField:String,currentTabKey:String,list:Array,contentRenderer:Object,floatingDelay:Number,currentOpenedItemIdx:Number,scrollable:Boolean,headerRenderer:Function}}constructor(){super(),this.nameField="name",this.floatingDelay=1,this.headerRenderer=e=>Object(h.e)(s||(s=x(["","<span>","</span>"])),e.name,e.description)}render(){var e,n=this.nameField,t=this.data||{},r=this.currentTabKey||Object.keys(t)[0],i=this.data[r];i=this.sortByNameField(i);var a=this.currentOpenedItemIdx,o=this.computeActiveIndexes(i,n),l=this.scrollable;return Object(h.e)(u||(u=x(['\n      <quick-find-navigator\n        @navigateTo="','"\n        .currentTabKey="','"\n        .data="','"\n        .activeIndexes="','"\n        @tabChanged="','"\n        .scrollable="','"\n      ></quick-find-navigator>\n\n      <div class="list-container" @scroll=',">\n        <ul>\n          ","\n        </ul>\n      </div>\n    "])),this.navigateTo,r,t,o,e=>{this.currentOpenedItemIdx=null,this.currentTabKey=e.detail.currentTabKey},l,this.onscroll.bind(this),null!==(e=i)&&void 0!==e&&e.length?Object(h.e)(p||(p=x(["\n                ","\n              "])),i.map((e,n)=>{var t=a===n;return Object(h.e)(v||(v=x(['\n                    <li\n                      class="list-item"\n                      ?opened="','"\n                      .item="','"\n                      @click="','"\n                    >\n                      <div class="header">\n                        ',"\n                      </div>\n\n                      ","\n                    </li>\n                  "])),t,e,()=>{this.currentOpenedItemIdx===n?this.currentOpenedItemIdx=-1:this.currentOpenedItemIdx=n},t&&"function"==typeof this.openHeaderRenderer?this.openHeaderRenderer(e):this.headerRenderer(e),t&&"function"==typeof this.contentRenderer?Object(h.e)(b||(b=x(['<div @click="','">\n                            ',"\n                          </div>"])),e=>e.stopPropagation(),this.contentRenderer(e,this.currentTabKey)):"")})):"")}get listItems(){return Array.from(this.renderRoot.querySelectorAll(".list-container li.list-item"))}updated(e){var n,t=this;return(n=function*(){(e.has("data")||e.has("currentTabKey"))&&(yield t.updateComplete,t.scrollable=t.computeScrollable())},function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){y(a,r,i,o,l,"next",e)}function l(e){y(a,r,i,o,l,"throw",e)}o(void 0)}))})()}get quickFindNavigator(){return this.renderRoot.querySelector("quick-find-navigator")}computeActiveIndexes(e,n){return Array.from(new Set(e.map(e=>e[n][0].toUpperCase())))}computeScrollable(){var e=this.renderRoot.querySelector("ul");return e.clientHeight<e.scrollHeight}navigateTo(e){var n=this.nameField,t=e.detail.toLowerCase(),r=this.sortByNameField(this.data[this.currentTabKey]).findIndex(e=>0===e[n].toLowerCase().indexOf(t)),i=this.renderRoot.querySelector("ul :nth-child(".concat(r+1,")"));null==i||i.scrollIntoView()}onscroll(){this.quickFindNavigator.scrolling||(this.quickFindNavigator.scrolling=!0),null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.quickFindNavigator.scrolling=!1},1e3*this.floatingDelay)}sortByNameField(e){var n=this.nameField;return e.sort((e,t)=>e[n]>t[n]?1:e[n]<t[n]?-1:0)}close(){this.currentOpenedItemIdx=-1}openByKey(e,n="id"){this.currentOpenedItemIdx=this.listItems.findIndex(t=>t.item[n]===e)}}customElements.define("quick-find-list",w)}}]);