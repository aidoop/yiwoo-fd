"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SeedInsertSteps1614747064558 = void 0;
const typeorm_1 = require("typeorm");
const shell_1 = require("@things-factory/shell");
const integration_base_1 = require("@things-factory/integration-base");
const integration_base_2 = require("@things-factory/integration-base");
const SEED = [
    {
        "id": "773313ad-aa95-4370-a4fa-b616817260bb",
        "name": "max",
        "description": null,
        "sequence": 0,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test01_results\",\"method\":\"\",\"query\":\"\",\"sort\":\"{ _id: -1 }\",\"group\":\"{ _id: { startTime: \\\"$startTime\\\" } }\",\"limit\":\"1\",\"dataKey\":\"\"}",
        "created_at": "2021-02-15T22:52:59.539Z",
        "updated_at": "2021-02-15T22:52:59.539Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "873324b5-07b7-43b7-9ff6-6533c80baa41",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "099b940d-dd8d-41d4-a372-705f4a628755",
        "name": "remove",
        "description": null,
        "sequence": 1,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test02_results\",\"method\":\"remove\",\"query\":\"{ startTime: \\\"${data.max[0]._id.startTime}\\\" }\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-15T22:52:59.558Z",
        "updated_at": "2021-02-15T22:52:59.558Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "873324b5-07b7-43b7-9ff6-6533c80baa41",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "61a0fa67-df2b-4167-920f-976f857547d1",
        "name": "remove2",
        "description": null,
        "sequence": 2,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test_histories\",\"method\":\"remove\",\"query\":\"{ testcase: \\\"testcase02\\\", startTime: \\\"${data.max[0]._id.startTime}\\\" }\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-15T22:52:59.576Z",
        "updated_at": "2021-02-15T22:52:59.576Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "873324b5-07b7-43b7-9ff6-6533c80baa41",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "e2f70138-1b10-4c01-8557-09a57bf2937c",
        "name": "tests",
        "description": null,
        "sequence": 0,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test01_results\",\"method\":\"\",\"query\":\"{ startTime: \\\"${variables.startTime}\\\" }\",\"sort\":\"{ seq: -1 }\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-09T17:21:07.421Z",
        "updated_at": "2021-02-09T17:21:07.421Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "6199d4e3-b7ab-4b93-8eb2-6ccdb924e3f8",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "ff28446a-8042-481c-8774-107a4f7e1d02",
        "name": "stop",
        "description": null,
        "sequence": 0,
        "task": "ml-ws-message",
        "skip": null,
        "log": null,
        "connection": "ws_py",
        "params": "{\"message\":\"{ \\\"cmd\\\": \\\"stop\\\", \\\"name\\\": \\\"testcase03\\\" }\"}",
        "created_at": "2021-02-09T21:43:23.597Z",
        "updated_at": "2021-02-09T21:43:23.597Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "d791b50b-6566-4c6f-908b-88d00a08ec7c",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "5c2b447f-43a2-4cf2-b223-a9fefe0e5e01",
        "name": "history",
        "description": null,
        "sequence": 0,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test_histories\",\"method\":\"\",\"query\":\"{ testcase: \\\"${variables.testcase}\\\" }\",\"sort\":\"{ startTime: -1 }\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-15T19:19:02.951Z",
        "updated_at": "2021-02-15T19:19:02.951Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "7e4a59ce-21d5-4fd7-a65c-00baa27abc3b",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "8496b22d-8314-4a6c-a887-2f2d46bf4798",
        "name": "stop",
        "description": null,
        "sequence": 0,
        "task": "ml-ws-message",
        "skip": null,
        "log": null,
        "connection": "ws_py",
        "params": "{\"message\":\"{ \\\"cmd\\\": \\\"stop\\\", \\\"name\\\": \\\"testcase01\\\" }\"}",
        "created_at": "2021-02-09T21:42:23.151Z",
        "updated_at": "2021-02-09T21:42:23.151Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "4356cd57-83ab-4f12-8595-a243a508766e",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "db4d3bf1-5b31-480f-8efb-3ca1c4cb94a8",
        "name": "stop",
        "description": null,
        "sequence": 0,
        "task": "ml-ws-message",
        "skip": null,
        "log": null,
        "connection": "ws_py",
        "params": "{\"message\":\"{ \\\"cmd\\\": \\\"stop\\\", \\\"name\\\": \\\"testcase02\\\" }\"}",
        "created_at": "2021-02-09T21:43:13.748Z",
        "updated_at": "2021-02-09T21:43:13.748Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "cffde195-a493-40ab-8fc2-1946544bc20c",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "0ea78f63-3512-4545-b79d-5728354e1abf",
        "name": "tests",
        "description": null,
        "sequence": 0,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test02_results\",\"method\":\"\",\"query\":\"{ startTime: \\\"${variables.startTime}\\\" }\",\"sort\":\"{ seq: -1 }\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-09T22:11:33.343Z",
        "updated_at": "2021-02-09T22:11:33.343Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "35d96d12-40e1-4ea5-8e11-6eabbf5922ea",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "c6b2f73c-0566-4819-9496-9a87f090e5d6",
        "name": "tests",
        "description": null,
        "sequence": 0,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test03_results\",\"method\":\"\",\"query\":\"{ startTime: \\\"${variables.startTime}\\\" }\",\"sort\":\"{ seq: -1 }\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-09T22:11:48.402Z",
        "updated_at": "2021-02-09T22:11:48.402Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "f56c039f-f810-49c8-bf7a-161c155c4120",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "4231749c-aa95-4f74-bf31-f83fc8c81abc",
        "name": "max",
        "description": null,
        "sequence": 0,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test01_results\",\"method\":\"\",\"query\":\"\",\"sort\":\"{ _id: -1 }\",\"group\":\"{ _id: { startTime: \\\"$startTime\\\" } }\",\"limit\":\"1\",\"dataKey\":\"\"}",
        "created_at": "2021-02-15T22:53:40.217Z",
        "updated_at": "2021-02-15T22:53:40.217Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "6970aab0-f2f9-4886-a69b-b7a4a6b7afb1",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "1a49668e-7f21-41ff-a4b9-ff370b9e5e8e",
        "name": "remove",
        "description": null,
        "sequence": 1,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test03_results\",\"method\":\"remove\",\"query\":\"{ startTime: \\\"${data.max[0]._id.startTime}\\\" }\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-15T22:53:40.229Z",
        "updated_at": "2021-02-15T22:53:40.229Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "6970aab0-f2f9-4886-a69b-b7a4a6b7afb1",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "c87f0861-e191-4938-9e2e-fa15208cf4a2",
        "name": "remove2",
        "description": null,
        "sequence": 2,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test_histories\",\"method\":\"remove\",\"query\":\"{ testcase: \\\"testcase03\\\", startTime: \\\"${data.max[0]._id.startTime}\\\" }\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"\"}",
        "created_at": "2021-02-15T22:53:40.239Z",
        "updated_at": "2021-02-15T22:53:40.239Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "6970aab0-f2f9-4886-a69b-b7a4a6b7afb1",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "2710e9a0-f2fb-47b6-bf7c-c8ca451f501b",
        "name": "clear",
        "description": null,
        "sequence": 0,
        "task": "scenario",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"scenario\":\"873324b5-07b7-43b7-9ff6-6533c80baa41\"}",
        "created_at": "2021-02-24T23:45:14.583Z",
        "updated_at": "2021-02-24T23:45:14.583Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "91d4f64a-44da-4a40-9d8e-5279397108bb",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "ed4fbd42-5cad-4e69-83c1-81a84a931442",
        "name": "result",
        "description": "spawn python code with dynamic config",
        "sequence": 1,
        "task": "ml-py-spawn-file",
        "skip": null,
        "log": null,
        "connection": "python3",
        "params": "{\"filepath\":\".\/extensions\/fall-proof-python\/fall-proof\/fallproof_app_main.py\",\"config\":\"{\\n  \\\"type\\\": \\\"testcase02\\\",\\n  \\\"imgPath\\\": \\\".\/extensions\/fall-proof-python\/resource\/testcase_images\\\",\\n  \\\"logPath\\\": \\\".\/extensions\/fall-proof-python\/logs\\\",\\n  \\\"modelPath\\\": \\\".\/extensions\/fall-proof-python\/resource\/testcase_model\\\",\\n  \\\"wsEndpoint\\\": \\\"localhost:32000\\\",\\n  \\\"testDelay\\\": 0.0\\n}\"}",
        "created_at": "2021-02-24T23:45:14.601Z",
        "updated_at": "2021-02-24T23:45:14.601Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "91d4f64a-44da-4a40-9d8e-5279397108bb",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "50588852-f4da-4d1f-a7a7-e6384fb76c02",
        "name": "save",
        "description": null,
        "sequence": 2,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test_histories\",\"method\":\"insert\",\"query\":\"\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"result\"}",
        "created_at": "2021-02-24T23:45:14.614Z",
        "updated_at": "2021-02-24T23:45:14.614Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "91d4f64a-44da-4a40-9d8e-5279397108bb",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "4fbdd68d-3744-4585-b4a5-c645a09ef907",
        "name": "script",
        "description": null,
        "sequence": 3,
        "task": "script",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"script\":\"return 1\"}",
        "created_at": "2021-02-24T23:45:14.626Z",
        "updated_at": "2021-02-24T23:45:14.626Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "91d4f64a-44da-4a40-9d8e-5279397108bb",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "4a769236-d0b0-4c20-a9ab-7ee89922dee9",
        "name": "pub",
        "description": null,
        "sequence": 4,
        "task": "publish",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"tag\":\"testcase02_done\",\"accessor\":\"script\"}",
        "created_at": "2021-02-24T23:45:14.637Z",
        "updated_at": "2021-02-24T23:45:14.637Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "91d4f64a-44da-4a40-9d8e-5279397108bb",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "8c53e009-a903-4e64-a8fa-abfee9735a85",
        "name": "clear",
        "description": null,
        "sequence": 0,
        "task": "scenario",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"scenario\":\"6970aab0-f2f9-4886-a69b-b7a4a6b7afb1\"}",
        "created_at": "2021-02-24T23:45:36.651Z",
        "updated_at": "2021-02-24T23:45:36.651Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "a7517c62-f4d8-4d72-97cd-59f00e54dbbe",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "559b5cf3-b560-45a8-ba0e-eb8773b0fc5c",
        "name": "result",
        "description": "spawn python code with dynamic config",
        "sequence": 1,
        "task": "ml-py-spawn-file",
        "skip": null,
        "log": null,
        "connection": "python3",
        "params": "{\"filepath\":\".\/extensions\/fall-proof-python\/fall-proof\/fallproof_app_main.py\",\"config\":\"{\\n  \\\"type\\\": \\\"testcase03\\\",\\n  \\\"imgPath\\\": \\\".\/extensions\/fall-proof-python\/resource\/testcase_images\\\",\\n  \\\"logPath\\\": \\\".\/extensions\/fall-proof-python\/logs\\\",\\n  \\\"modelPath\\\": \\\".\/extensions\/fall-proof-python\/resource\/testcase_model\\\",\\n  \\\"wsEndpoint\\\": \\\"localhost:32000\\\",\\n  \\\"testDelay\\\": 0.0\\n}\"}",
        "created_at": "2021-02-24T23:45:36.666Z",
        "updated_at": "2021-02-24T23:45:36.666Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "a7517c62-f4d8-4d72-97cd-59f00e54dbbe",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "60b9dabf-d668-4fcc-bc49-6a477f25ff64",
        "name": "save",
        "description": null,
        "sequence": 2,
        "task": "ml-collection",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"collection\":\"test_histories\",\"method\":\"insert\",\"query\":\"\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"result\"}",
        "created_at": "2021-02-24T23:45:36.684Z",
        "updated_at": "2021-02-24T23:45:36.684Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "a7517c62-f4d8-4d72-97cd-59f00e54dbbe",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "af1f3542-349a-4dd3-b584-cfe2a2c11910",
        "name": "script",
        "description": null,
        "sequence": 3,
        "task": "script",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"script\":\"return 1\"}",
        "created_at": "2021-02-24T23:45:36.700Z",
        "updated_at": "2021-02-24T23:45:36.700Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "a7517c62-f4d8-4d72-97cd-59f00e54dbbe",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "1f77cf41-ddba-4679-a5be-39aabfa63659",
        "name": "pub",
        "description": null,
        "sequence": 4,
        "task": "publish",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"tag\":\"testcase03_done\",\"accessor\":\"script\"}",
        "created_at": "2021-02-24T23:45:36.716Z",
        "updated_at": "2021-02-24T23:45:36.716Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "a7517c62-f4d8-4d72-97cd-59f00e54dbbe",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "f9ad7f82-4c01-4f65-ba19-2a537743e79d",
        "name": "result",
        "description": "spawn python code with dynamic config",
        "sequence": 0,
        "task": "ml-py-spawn-file",
        "skip": false,
        "log": false,
        "connection": "python3",
        "params": "{\"filepath\":\".\/extensions\/fall-proof-python\/fall-proof\/fallproof_app_main.py\",\"config\":\"{\\n  \\\"type\\\": \\\"testcase01\\\",\\n  \\\"imgPath\\\": \\\".\/extensions\/fall-proof-python\/resource\/testcase_images\\\",\\n  \\\"logPath\\\": \\\".\/extensions\/fall-proof-python\/logs\\\",\\n  \\\"modelPath\\\": \\\".\/extensions\/fall-proof-python\/resource\/testcase_model\\\",\\n  \\\"wsEndpoint\\\": \\\"localhost:32000\\\",\\n  \\\"testDelay\\\": 0.4\\n}\"}",
        "created_at": "2021-02-24T23:46:03.733Z",
        "updated_at": "2021-02-24T23:46:03.733Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "d3a68731-b3dd-4608-85bb-c4753bf7d1db",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "e8c13bb4-a2fe-41e1-bc82-f816452f1cc5",
        "name": "save",
        "description": null,
        "sequence": 1,
        "task": "ml-collection",
        "skip": null,
        "log": false,
        "connection": null,
        "params": "{\"collection\":\"test_histories\",\"method\":\"insert\",\"query\":\"\",\"sort\":\"\",\"group\":\"\",\"limit\":0,\"dataKey\":\"result\"}",
        "created_at": "2021-02-24T23:46:03.752Z",
        "updated_at": "2021-02-24T23:46:03.752Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "d3a68731-b3dd-4608-85bb-c4753bf7d1db",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "71487b78-4a1e-44fa-bb39-e4ae0e5a000c",
        "name": "script",
        "description": null,
        "sequence": 2,
        "task": "script",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"script\":\"return 1\"}",
        "created_at": "2021-02-24T23:46:03.768Z",
        "updated_at": "2021-02-24T23:46:03.768Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "d3a68731-b3dd-4608-85bb-c4753bf7d1db",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    },
    {
        "id": "3e98bfcc-c1b1-4010-988f-9ef65dda3d78",
        "name": "pub",
        "description": null,
        "sequence": 3,
        "task": "publish",
        "skip": null,
        "log": null,
        "connection": null,
        "params": "{\"tag\":\"testcase01_done\",\"accessor\":\"script\"}",
        "created_at": "2021-02-24T23:46:03.783Z",
        "updated_at": "2021-02-24T23:46:03.783Z",
        "domain_id": "45b89121-dd78-4e99-b557-cbd228336843",
        "scenario_id": "d3a68731-b3dd-4608-85bb-c4753bf7d1db",
        "creator_id": "dbd36d13-420f-4876-8860-431ba0319d91",
        "updater_id": "dbd36d13-420f-4876-8860-431ba0319d91"
    }
];
class SeedInsertSteps1614747064558 {
    async up(queryRunner) {
        const repository = typeorm_1.getRepository(integration_base_1.Step);
        const domain = await typeorm_1.getRepository(shell_1.Domain).findOne({
            name: 'SYSTEM'
        });
        return await Promise.all(SEED.map(async (step) => {
            const scenario = await typeorm_1.getRepository(integration_base_2.Scenario).findOne({
                id: step.scenario_id
            });
            await repository.save(Object.assign(Object.assign({}, step), { domain,
                scenario }));
        }));
    }
    async down(queryRunner) {
        const repository = typeorm_1.getRepository(integration_base_1.Step);
        const domain = await typeorm_1.getRepository(shell_1.Domain).findOne({
            name: 'SYSTEM'
        });
        return await Promise.all(SEED.reverse().map(async (step) => {
            await repository.delete({ name: step.name, domain });
        }));
    }
}
exports.SeedInsertSteps1614747064558 = SeedInsertSteps1614747064558;
//# sourceMappingURL=1614747064558-SeedInsertSteps.js.map